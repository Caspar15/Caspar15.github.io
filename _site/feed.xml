<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.4">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2025-08-09T15:53:20+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Caspar15 的網站</title><subtitle>這是一個使用 Jekyll 建立的 GitHub Pages 網站</subtitle><entry><title type="html">Jekyll 網站優化：我是如何實現專案篩選功能的</title><link href="http://localhost:4000/jekyll/frontend/web-development/how-i-implemented-project-filtering-in-jekyll/" rel="alternate" type="text/html" title="Jekyll 網站優化：我是如何實現專案篩選功能的" /><published>2025-08-03T10:00:00+08:00</published><updated>2025-08-03T10:00:00+08:00</updated><id>http://localhost:4000/jekyll/frontend/web-development/how-i-implemented-project-filtering-in-jekyll</id><content type="html" xml:base="http://localhost:4000/jekyll/frontend/web-development/how-i-implemented-project-filtering-in-jekyll/"><![CDATA[<h2 id="前言">前言</h2>

<p>當你的個人作品集網站專案越來越多時，訪客很難快速找到他們感興趣的內容。為了解決這個問題，我決定在我的 Jekyll 網站上增加一個專案篩選功能。這不僅優化了使用者體驗，也讓我的作品集看起來更專業。</p>

<p>在這篇文章中，我將分享如何只用 Jekyll 的 Liquid 語法和一點點 JavaScript，就能實現一個高效的專案分類篩選功能。</p>

<h2 id="最終成果">最終成果</h2>

<p>在開始之前，先來看看我們完成後的效果：</p>

<ul>
  <li>一個動態的分類側邊欄，會自動列出所有專案的標籤。</li>
  <li>點擊標籤後，專案列表會即時更新，只顯示符合該標籤的專案。</li>
</ul>

<p>這個功能不需要任何複雜的後端或資料庫，非常適合靜態網站。</p>

<h2 id="實作步驟">實作步驟</h2>

<p>整個過程可以分為四個主要步驟：</p>

<h3 id="第一步在專案中加入-tags">第一步：在專案中加入 <code class="language-plaintext highlighter-rouge">tags</code></h3>

<p>首先，我們需要為每個專案定義分類標籤。Jekyll 使用 YAML Front Matter 來儲存文章或頁面的元數據。我們只需要在每個專案檔案（例如 <code class="language-plaintext highlighter-rouge">_projects/my-awesome-project.md</code>）的頭部加入 <code class="language-plaintext highlighter-rouge">tags</code> 屬性即可。</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">layout</span><span class="pi">:</span> <span class="s">project</span>
<span class="na">title</span><span class="pi">:</span> <span class="s2">"</span><span class="s">我的超棒專案"</span>
<span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">這是一個很棒的專案簡介。"</span>
<span class="na">tags</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">Frontend</span><span class="nv"> </span><span class="s">Development"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">Data</span><span class="nv"> </span><span class="s">Visualization"</span><span class="pi">]</span>
<span class="nn">---</span>

<span class="nn">...</span> <span class="s">專案內容 ...</span>
</code></pre></div></div>

<p>你可以為一個專案定義多個標籤，用逗號分隔即可。</p>

<h3 id="第二步建立分類側邊欄">第二步：建立分類側邊欄</h3>

<p>接下來，我們要動態生成篩選按鈕。在我的網站中，我有一個側邊欄檔案 <code class="language-plaintext highlighter-rouge">_includes/project_categories_sidebar.html</code>。我們將使用 Liquid 語法來遍歷所有專案，收集所有不重複的 <code class="language-plaintext highlighter-rouge">tags</code>，然後生成對應的按鈕。</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"categories"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h3&gt;</span>專案分類<span class="nt">&lt;/h3&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"project-filters"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- "全部專案" 按鈕 --&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"filter-btn active"</span> <span class="na">data-filter=</span><span class="s">"all"</span><span class="nt">&gt;</span>全部專案<span class="nt">&lt;/button&gt;</span>

    <span class="c">&lt;!-- 動態生成所有標籤 --&gt;</span>
    {% assign all_tags = "" | split: "" %}
    {% for project in site.projects %}
      {% assign all_tags = all_tags | concat: project.tags %}
    {% endfor %}
    {% assign all_tags = all_tags | uniq %}

    <span class="c">&lt;!-- 為每個標籤生成按鈕 --&gt;</span>
    {% for tag in all_tags %}
      <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"filter-btn"</span> <span class="na">data-filter=</span><span class="s">"{{ tag | slugify }}"</span><span class="nt">&gt;</span>{{ tag }}<span class="nt">&lt;/button&gt;</span>
    {% endfor %}
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>

</code></pre></div></div>

<p><strong>程式碼解釋：</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">{% assign all_tags = "" | split: "" %}</code>：初始化一個空陣列來存放所有標籤。</li>
  <li><code class="language-plaintext highlighter-rouge">{% for project in site.projects %}</code>：遍歷 <code class="language-plaintext highlighter-rouge">_projects</code> 資料夾下的所有專案。</li>
  <li><code class="language-plaintext highlighter-rouge">concat: project.tags</code>：將每個專案的 <code class="language-plaintext highlighter-rouge">tags</code> 陣列合併到 <code class="language-plaintext highlighter-rouge">all_tags</code> 中。</li>
  <li><code class="language-plaintext highlighter-rouge">uniq</code>：移除重複的標籤，確保每個標籤只出現一次。</li>
  <li><code class="language-plaintext highlighter-rouge">{{ tag | slugify }}</code>：這個過濾器會將標籤轉換為 URL 友善的格式（例如 “Frontend Development” 會變成 “frontend-development”），這將用於我們後續的 JavaScript 篩選。</li>
</ul>

<h3 id="第三步讓專案卡片帶有標籤資訊">第三步：讓專案卡片帶有標籤資訊</h3>

<p>為了讓 JavaScript 知道每個專案卡片對應哪些標籤，我們需要在生成專案列表的 HTML 中加入 <code class="language-plaintext highlighter-rouge">data-tags</code> 屬性。</p>

<p>打開 <code class="language-plaintext highlighter-rouge">_includes/projects.html</code>，找到你的專案卡片 <code class="language-plaintext highlighter-rouge">div</code> 或 <code class="language-plaintext highlighter-rouge">article</code> 元素，並添加 <code class="language-plaintext highlighter-rouge">data-tags</code> 屬性：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card-container grid-view"</span><span class="nt">&gt;</span>
  {% for project in site.projects %}
  <span class="nt">&lt;article</span> <span class="na">class=</span><span class="s">"card"</span> <span class="na">data-tags=</span><span class="s">"{{ project.tags | join: ' ' | slugify }}"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- ... 卡片內容 ... --&gt;</span>
  <span class="nt">&lt;/article&gt;</span>
  {% endfor %}
<span class="nt">&lt;/div&gt;</span>

</code></pre></div></div>

<p><strong>程式碼解釋：</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">{{ project.tags | join: ' ' | slugify }}</code>：這段程式碼會將專案的 <code class="language-plaintext highlighter-rouge">tags</code> 陣列（例如 <code class="language-plaintext highlighter-rouge">["Frontend Development", "Data Visualization"]</code>）轉換成一個用空格分隔的、slug 化的小寫字串（<code class="language-plaintext highlighter-rouge">"frontend-development data-visualization"</code>）。這樣，我們就可以輕易地用 JavaScript 來檢查一個專案是否包含某個標籤。</li>
</ul>

<h3 id="第四步用-javascript-實現篩選邏輯">第四步：用 JavaScript 實現篩選邏輯</h3>

<p>最後一步就是讓一切動起來。我們將在 <code class="language-plaintext highlighter-rouge">assets/js/main.js</code> 中加入事件監聽器。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">DOMContentLoaded</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// ... 其他程式碼 ...</span>

  <span class="kd">const</span> <span class="nx">filterButtons</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">.filter-btn</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">projectCards</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">.card-container .card</span><span class="dl">'</span><span class="p">);</span>

  <span class="k">if </span><span class="p">(</span><span class="nx">filterButtons</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">projectCards</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">filterButtons</span><span class="p">.</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">button</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">button</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">event</span><span class="p">.</span><span class="nf">preventDefault</span><span class="p">();</span> <span class="c1">// 阻止按鈕的預設行為</span>

        <span class="c1">// 更新按鈕的 active 狀態</span>
        <span class="nx">filterButtons</span><span class="p">.</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">btn</span> <span class="o">=&gt;</span> <span class="nx">btn</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="dl">'</span><span class="s1">active</span><span class="dl">'</span><span class="p">));</span>
        <span class="nx">button</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">active</span><span class="dl">'</span><span class="p">);</span>

        <span class="kd">const</span> <span class="nx">filter</span> <span class="o">=</span> <span class="nx">button</span><span class="p">.</span><span class="nf">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-filter</span><span class="dl">'</span><span class="p">);</span>

        <span class="c1">// 遍歷所有專案卡片並根據篩選條件顯示或隱藏</span>
        <span class="nx">projectCards</span><span class="p">.</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">card</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">tags</span> <span class="o">=</span> <span class="nx">card</span><span class="p">.</span><span class="nf">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-tags</span><span class="dl">'</span><span class="p">)</span> <span class="o">||</span> <span class="dl">''</span><span class="p">;</span>
          <span class="k">if </span><span class="p">(</span><span class="nx">filter</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">all</span><span class="dl">'</span> <span class="o">||</span> <span class="nx">tags</span><span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="nx">filter</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">card</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">block</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// 顯示</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">card</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>  <span class="c1">// 隱藏</span>
          <span class="p">}</span>
        <span class="p">});</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p><strong>程式碼解釋：</strong></p>
<ul>
  <li>我們首先選取所有的篩選按鈕和專案卡片。</li>
  <li>為每個按鈕添加 <code class="language-plaintext highlighter-rouge">click</code> 事件監聽器。</li>
  <li>當按鈕被點擊時，我們取得它的 <code class="language-plaintext highlighter-rouge">data-filter</code> 值。</li>
  <li>然後，我們遍歷所有的專案卡片，檢查卡片的 <code class="language-plaintext highlighter-rouge">data-tags</code> 屬性是否包含被點擊的 <code class="language-plaintext highlighter-rouge">filter</code> 字串。</li>
  <li>如果 <code class="language-plaintext highlighter-rouge">filter</code> 是 “all” 或者卡片包含了該標籤，我們就顯示它，否則就隱藏它。</li>
</ul>

<h2 id="結論">結論</h2>

<p>就是這麼簡單！透過 Jekyll 強大的 Liquid 模板語言和幾行 JavaScript，我們就成功地為作品集網站添加了一個實用又美觀的篩選功能。</p>

<p>這個功能不僅提升了使用者體驗，也讓你的網站內容更有組織性。希望這篇教學對你有幫助，快去動手試試看吧！</p>]]></content><author><name>Caspar</name></author><category term="jekyll" /><category term="frontend" /><category term="web-development" /><category term="Jekyll" /><category term="JavaScript" /><category term="Liquid" /><category term="Web Development" /><summary type="html"><![CDATA[當你的個人作品集網站專案越來越多時，訪客很難快速找到他們感興趣的內容。為了解決這個問題，我決定在我的 Jekyll 網站上增加一個專案篩選功能。這不僅優化了使用者體驗，也讓我的作品集看起來更專業。在這篇文章中，我將分享如何只用 Jekyll 的 Liquid 語法和一點點 JavaScript，就能實現一個高效的專案分類篩選功能。]]></summary></entry></feed>