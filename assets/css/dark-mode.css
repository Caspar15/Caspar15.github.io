/* dark-mode.css */

body.dark {
  /* Dark Mode Colors */
  --color-bg: #1a1a1a; /* 深色模式主背景 */
  --color-bg-rgb: 26, 26, 26; /* 深色模式主背景 RGB */
  --color-bg-subtle: #2a2a2a; /* 深色模式次要背景 */
  --color-text: #e0e0e0; /* 深色模式主要文字 */
  --color-text-muted: #b0b0b0; /* 深色模式次要文字 */
  --color-border: #444444; /* 深色模式主要邊框 */
  --color-border-subtle: #3a3a3a; /* 深色模式次要邊框 */
  --color-accent: #7F5AF0; /* 深色模式強調色 (漸層紫) */
  --color-accent-hover: #9D84F5; /* 深色模式強調色懸停 (亮紫) */
  --color-accent-rgb: 127, 90, 240; /* 深色模式強調色 RGB */

  /* Dark Mode Code Colors */
  --code-bg: #2d2d2d; /* 深色模式程式碼區塊背景色 */
  --code-text: #f8f8f2; /* 深色模式程式碼文字顏色 */
  --code-border: #3a3a3a; /* 深色模式程式碼區塊邊框 */
  --inline-code-bg: rgba(150, 150, 150, 0.2); /* 深色模式行內程式碼背景色 */
  --inline-code-text: #f8f8f2; /* 深色模式行內程式碼文字顏色 */

  /* Dark Mode Shadows - 更柔和，與深色背景融合 */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.5);
}

/* 針對特定元素調整深色模式下的樣式 */
body.dark .site-header {
  border-bottom-color: var(--color-border);
  box-shadow: var(--shadow-sm); /* 確保陰影在深色模式下也適用 */
}

body.dark .site-title,
body.dark .site-nav .page-link {
  color: var(--color-text);
}

body.dark .site-title:hover,
body.dark .site-nav .page-link:hover {
  color: var(--color-accent);
}

body.dark .site-nav .page-link::after {
  background-color: var(--color-accent);
}

body.dark .dark-mode-toggle svg,
body.dark .search-toggle svg {
  color: var(--color-text-muted);
}

body.dark .dark-mode-toggle:hover,
body.dark .search-toggle:hover {
  background-color: var(--color-bg-subtle);
}

body.dark .dark-mode-toggle:hover svg,
body.dark .search-toggle:hover svg {
  color: var(--color-accent);
}

body.dark .site-nav .search-input {
  background-color: var(--color-bg-subtle);
  color: var(--color-text);
  border-color: var(--color-border);
}

body.dark .site-nav .search-input:focus {
  border-color: var(--color-accent);
  box-shadow: 0 0 0 3px rgba(var(--color-accent-rgb), 0.3);
}

body.dark .sidebar section,
body.dark .right-bar section,
body.dark .statistics-section,
body.dark .card,
body.dark .project-categories-sidebar,
body.dark .info-card,
body.dark .future-updates-section,
body.dark .chart-container {
  background-color: var(--color-bg-subtle);
  border-color: var(--color-border);
  box-shadow: var(--shadow-sm); /* 確保陰影在深色模式下也適用 */
}

body.dark .sidebar section:hover,
body.dark .right-bar section:hover,
body.dark .card:hover,
body.dark .info-card:hover,
body.dark .future-updates-section:hover {
  box-shadow: var(--shadow-md); /* 懸停時陰影加深 */
}

body.dark .stat-icon {
  background-color: var(--color-accent);
}

body.dark .filter-btn {
  color: var(--color-text-muted);
  border-color: var(--color-border);
  background-color: var(--color-bg-subtle);
}

body.dark .filter-btn:hover {
  background-color: var(--color-accent);
  color: white;
  border-color: var(--color-accent);
}

body.dark .filter-btn.active {
  background-color: var(--color-accent);
  color: white;
}

body.dark .card-header h3 a {
  color: var(--color-text);
}

body.dark .card-header h3 a:hover {
  color: var(--color-accent);
}

body.dark .card .tag,
body.dark .skill-item {
  background-color: var(--color-border);
  color: var(--color-text-muted);
  border-color: var(--color-border-subtle);
}

body.dark .card .tag:hover,
body.dark .skill-item:hover {
  background-color: var(--color-accent);
  color: white;
}

body.dark .repo-header .repo-badges img {
  filter: brightness(0.8) contrast(1.2);
}

body.dark .repo-about .btn-github {
  background-color: #30363d;
  border-color: #444c56;
}

body.dark .repo-about .btn-github:hover {
  background-color: #444c56;
}

body.dark .repo-topics .topic-tag {
  background-color: #30363d;
  color: #58a6ff;
}

body.dark .repo-topics .topic-tag:hover {
  background-color: #444c56;
}

body.dark .repo-languages .lang-stats .lang-name {
  color: var(--color-text);
}

body.dark .repo-languages .lang-stats .lang-percentage {
  color: var(--color-text-muted);
}

body.dark .global-search {
  background: var(--color-bg-subtle);
  border-color: var(--color-border);
  box-shadow: var(--shadow-md);
}

body.dark .global-search input {
  background-color: var(--color-bg);
  color: var(--color-text);
  border-color: var(--color-border);
}

body.dark .global-search input:focus {
  border-color: var(--color-accent);
  box-shadow: 0 0 0 2px rgba(var(--color-accent-rgb), 0.3);
}

body.dark .search-results-item {
  border-color: var(--color-border);
}

body.dark .search-results-item a {
  color: var(--color-text);
}

body.dark .search-results-item p {
  color: var(--color-text-muted);
}

body.dark .back-to-top {
  background: var(--color-accent);
  box-shadow: var(--shadow-md);
}

body.dark .back-to-top:hover {
  background: var(--color-accent-hover);
  box-shadow: var(--shadow-lg);
}

body.dark .btn {
  background-color: var(--color-bg-subtle);
  border-color: var(--color-border);
  color: var(--color-text);
}

body.dark .btn:hover {
  background-color: var(--color-accent);
  border-color: var(--color-accent);
  color: white;
}

body.dark .download-resume {
  background: linear-gradient(120deg, #333 0%, #555 100%);
  color: white !important;
  border: none !important;
  box-shadow: var(--shadow-md);
}

body.dark .download-resume:hover {
  background: linear-gradient(120deg, #555 0%, #777 100%);
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
}

body.dark .profile-section .social-icons img {
  filter: invert(1) hue-rotate(180deg); /* 調整社交圖標在深色模式下的顏色 */
}

body.dark .profile-section .social-icons a:hover img {
  filter: none; /* 懸停時恢復原色 */
}

body.dark .contact-call-to-action {
  background-color: var(--color-bg-subtle);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-sm);
}

body.dark .section-title {
  border-bottom-color: var(--color-border);
}

body.dark .info-card ul li::before {
  color: var(--color-accent);
}

body.dark .full-width-card {
  border-top-color: var(--color-accent);
}

body.dark .reading-progress-bar {
  background: var(--color-accent);
}

body.dark .skeleton {
  background: linear-gradient(
    90deg,
    var(--color-bg-subtle) 25%,
    var(--color-border) 50%,
    var(--color-bg-subtle) 75%
  );
}

/* Blog Post Container in Dark Mode */
body.dark .post-container {
  background-color: rgba(42, 42, 42, 0.75); /* 使用 --color-bg-subtle 的 RGB 值 */
  border: 1px solid rgba(68, 68, 68, 0.25); /* 使用 --color-border 的 RGB 值 */
}

body.dark .post-item {
  background-color: rgba(42, 42, 42, 0.7); /* 使用 --color-bg-subtle 的 RGB 值 */
  border: 1px solid rgba(68, 68, 68, 0.2); /* 使用 --color-border 的 RGB 值 */
}

/* --- Dark Mode for Markdown Body (Project Pages) --- */
body.dark .markdown-body {
  color: var(--color-text);
  background-color: var(--color-bg-subtle);
  border-color: var(--color-border);
}

body.dark .markdown-body h1,
body.dark .markdown-body h2,
body.dark .markdown-body h3,
body.dark .markdown-body h4,
body.dark .markdown-body h5,
body.dark .markdown-body h6 {
  color: var(--color-text);
  border-bottom-color: var(--color-border);
}

body.dark .markdown-body a {
  color: var(--color-accent-hover);
}

body.dark .markdown-body code {
  color: var(--inline-code-text);
  background-color: var(--inline-code-bg);
}

body.dark .markdown-body pre {
  background-color: var(--code-bg);
  color: var(--code-text);
}

/* --- Fixes for Project Page Header & Sidebar --- */
body.dark .repo-header h1,
body.dark .repo-sidebar h3 {
  color: var(--color-text);
}

body.dark .repo-sidebar {
  background-color: var(--color-bg-subtle);
  border-color: var(--color-border);
}

body.dark .repo-sidebar p,
body.dark .repo-sidebar a {
  color: var(--color-text-muted);
}

body.dark .repo-sidebar a:hover {
  color: var(--color-accent);
}

body.dark .repo-header {
  background-color: var(--color-bg-subtle);
  border: 1px solid var(--color-border);
  padding: 1.5rem;
  border-radius: 6px;
  margin-bottom: 1rem;
}
